<div class="cal_title"><%=year %>年<%=month%>月</div>

<table class="cal">
  <tr><td><%= %w(月 火 水 木 金 土 日).join('</td><td>').html_safe%></td></tr>
  <% weeks.each do |week| %>
    <tr>
      <% week.each do |memo| %>
        <% 
          class_str = "" 
          if  !memo.nil?
            class_str = memo.id!=0?"yotei_ari ":"" 
            class_str = memo.date == Date.today ? "today " :class_str
            class_str += HolidayJp.holiday?( memo.date) || memo.date.wday==0 ? "yasumi " :"" 
            class_str += memo.date.wday==6 ? "sat " :"" 
          end
  
        %>
        <td class="<%=class_str%>">
          <% if !memo.nil?  %>
            <%= memo.id!=0? (link_to memo.date.day, edit_memo_path(memo)):
                      (link_to memo.date.day, :action=>:new, :params=>{:date=>memo.date}) %>
          <% end %>
        </td>
      <% end %>
    </tr>

  <% end %>
</table>
